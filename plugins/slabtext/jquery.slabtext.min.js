/*! jQuery slabtext plugin v2.2 MIT/GPL2 @freqdec */
(function(c){c.fn.slabText=function(j){var d={fontRatio:0.78,forceNewCharCount:!0,wrapAmpersand:!0,headerBreakpoint:null,viewportBreakpoint:null,noResizeEvent:!1,resizeThrottleTime:300,maxFontSize:999,postTweak:!0,precision:3,minCharsPerLine:0};c("body").addClass("slabtexted");return this.each(function(){j&&c.extend(d,j);var b=c(this),q=c("span.slabtext",b).length,g=q?[]:String(c.trim(b.text())).replace(/\s{2,}/g," ").split(" "),k=null,l=null,A=d.fontRatio,B=d.forceNewCharCount,t=d.headerBreakpoint,
u=d.viewportBreakpoint,v=d.postTweak,w=d.precision,C=d.resizeThrottleTime,m=d.minCharsPerLine,x=null,r=c(window).width(),s=b.find("a:first").attr("href")||b.attr("href"),y=s?b.find("a:first").attr("title"):"";if(q||!(m&&g.join(" ").length<m)){var z=function(){var n=b.width();if(0!==n)if(b.removeClass("slabtextdone slabtextinactive"),u&&u>r||t&&t>n)b.addClass("slabtextinactive");else{var e=jQuery('<div style="display:none;font-size:1em;margin:0;padding:0;height:auto;line-height:1;border:0;">&nbsp;</div>').appendTo(b),
h=e.height();e.remove();if(!q&&(B||h!=k)){k=h;var f=Math.min(60,Math.floor(n/(k*A))),e=0,h=[],p="",a="",a="",j;if(f!=l){for(l=f;e<g.length;){for(a="";a.length<l&&!(p=a,a+=g[e]+" ",++e>=g.length););m&&(f=g.slice(e).join(" "),f.length<m&&(p=a+=f,e=g.length+2));f=l-p.length;j=a.length-l;if(f<j&&p.length>=(m||2))a=p,e--;a=c("<div/>").text(a).html();d.wrapAmpersand&&(a=a.replace(/&amp;/g,'<span class="amp">&amp;</span>'));a=c.trim(a);h.push('<span class="slabtext">'+a+"</span>")}b.html(h.join(" "));s&&
b.wrapInner('<a href="'+s+'" '+(y?'title="'+y+'" ':"")+"/>")}}else k=h;c("span.slabtext",b).each(function(){var a=c(this),b=a.text(),e=1<b.split(" ").length,f,g;v&&a.css({"word-spacing":0,"letter-spacing":0});f=n/a.width();g=parseFloat(this.style.fontSize)||k;a.css("font-size",Math.min((g*f).toFixed(w),d.maxFontSize)+"px");(f=v?n-a.width():!1)&&a.css((e?"word":"letter")+"-spacing",(f/(e?b.split(" ").length-1:b.length)).toFixed(w)+"px")});b.addClass("slabtextdone")}};z();d.noResizeEvent||c(window).resize(function(){c(window).width()!=
r&&(r=c(window).width(),clearTimeout(x),x=setTimeout(z,C))})}})}})(jQuery);